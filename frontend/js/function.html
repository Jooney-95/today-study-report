<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function test</title>
</head>
<body>
    
</body>
<script>
    

    let data = 123;

    // 화살표 함수이기에 호이스팅 불가함.
    //logOut(data);

    let logOut = function(data) {
        console.log("data는", data, "입니다. 로그를 출력했습니다.");
    }
    logOut(data);

    data = 1;
    let logOut2 = () => {
        console.log("data는", data, "입니다. arrow function으로 함수를 실행했습니다.");
    }
    logOut2(data);



    // primitive type VS reference type

    let data1 = 10;
    let data2 = [1,2,3];
    let data3 = "str";

    let changeNumber = num => {
        console.log("num:"+num);
        num = 1000;
    }

    changeNumber(data1);
    console.log("data1 값은 원래 10이었음. 지금 값은? "+data1);


    let changeArray = arr => {
        console.log("arr:"+arr);
        arr[0] = 1000;
    }

    changeArray(data2);
    console.log("data2 arr의 값은 원래 1,2,3 이었음. 지금 값은? "+data2);


    let changeString = str => {
        console.log("str:"+str);
        str = "str!!!";
    }

    changeString(data3);
    console.log("data3 String의 값은 원래 str 이었음, 지금 값은? "+data3);



    // 함수에서의 return

    let returnString = str => {
        console.log("before String:"+str)
        str += " changed";
        return str;
    }

    let str = returnString("문자열입니다.");
    console.log(str);


    // 1~n까지의 합계
    const N = parseInt(prompt("숫자를 입력하세요."));

    let sumToN = N => {
        if(N == 1) return 1; 
        return N + sumToN(N-1); 
    }

    let res = sumToN(N);
    console.log(res);


    // N번째 피보나치 수열을 찾자. -> 재귀함수 활용
    let fibo1 = N => {
        if(N <= 1) return N;
        return fibo1(N-1) + fibo1(N-2);
    }

    let fibo_N = fibo1(N);
    console.log(fibo_N);


    // N번째 피보나치 수열을 찾자 -> 배열 활용
    let arr = [];
    let fibo2 = N => {
        let res = 0;
        for(let i=0; i<N; i++) {
            if(i==0) arr[0] = 1;
            else if(i==1) arr[1] = 1;
            else arr[i] = arr[i-1] + arr[i-2];
            res = arr[i];
        }
        return res; 
    }

    let fibo_N2 = fibo2(N);
    console.log(fibo_N2);


    // 일반적인 Closure
    // 함수 내에서 함수를 리턴해서 외부에서 내부의 데이터 조작
    function outer() {
        let a = 0;
        return () => {
            a++;
            console.log(a);
        }
    }
    let inner = outer();
    inner();
    inner();

    //default parameter
    let printNumber = (num=1) => {
    // const def = num || 1;
    // return def * def;
    return num * num;
    }

    console.log(printNumber(13));
    console.log(printNumber());


</script>
</html>